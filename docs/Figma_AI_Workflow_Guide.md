# Figma to Code: The AI Workflow Guide

## Introduction

Welcome to the new way of building. This guide is designed for **designers and product creators** who are using AI (like Gemini or Claude) to build real software.

You don't need to be a senior engineer to use this. You just need to understand how to "direct" the AI using your design expertise. The **Figma MCP (Model Context Protocol)** is the bridge that lets the AI "see" your designs and translate them into code.

---

## Core Concepts

Before you start prompting, it helps to understand the three pillars of this workflow:

### 1. Design Tokens (The "DNA")
**What they are:** Tokens are the smallest atoms of your design—colors, fonts, spacing, and border radiuses.
**Why they matter:** Instead of telling the AI "make this button blue," you want it to "use `color-primary-500`." This ensures that if you change your brand blue in Figma, the code updates automatically without rewriting every button.
**In this workflow:** You will use the AI to *extract* these tokens first, setting up a "source of truth" in your code (like a `theme.css` or `tailwind.config.js`).

### 2. Components (The "Lego Blocks")
**What they are:** Reusable UI elements like Buttons, Inputs, and Cards.
**Why they matter:** AI works best when you build small pieces first. Don't ask for "the whole dashboard." Ask for "the User Card component," then "the Sidebar," and *then* "the Dashboard layout using the Card and Sidebar."

### 3. Code Connect (The "Map")
**What it is:** A Figma feature that links a specific design component to its actual code implementation.
**For AI:** If you use Code Connect, the AI doesn't have to guess how to build a button; it sees the link and knows exactly which code snippet to use. This is advanced but powerful for keeping design and code in perfect sync.

---

## The AI Toolkit: Your Command Center

When you connect Antigravity to Figma, you get a set of "tools." Here is what they do and when to use them:

| Tool Name | Plain English Translation | When to Use It |
| :--- | :--- | :--- |
| **`get_design_context`** | "Write the code for this." | **Most Common.** Use this when you want to build a component or screen. It gives the AI the full specs (layout, style, content). |
| **`get_variable_defs`** | "Get my design tokens." | Use this **first** when starting a project. It extracts all your colors, fonts, and spacing variables so the AI can set up your theme. |
| **`get_metadata`** | "What is the structure?" | Use this for complex pages. It helps the AI understand the hierarchy (Parent > Child > Grandchild) before it starts coding details. |
| **`get_screenshot`** | "Show me what it looks like." | Use this for **Verification**. Ask the AI to compare its coded result with this screenshot to check for visual bugs. |
| **`create_design_system_rules`** | "Learn my rules." | Use this once to teach the AI your specific coding standards (e.g., "Always use Tailwind," "Use 'rem' instead of 'px'"). |

---

## Workflow 1: Setting the Foundation (Tokens)

**Goal:** Teach the AI your visual language so it doesn't "guess" hex codes.

1.  **Open your Design System file** in Figma.
2.  **Prompt the AI:**

    Shalom's prompt: "Analyze this Figma file via MCP and generate a complete, structured design token set (colors, typography, spacing, radii, shadows, breakpoints) that I can reuse as a design system for a new vanilla UI project. Do not generate components yet; focus only on tokens and their hierarchy. [Paste link to Figma Design file here.]"

    Generated by Gemini: "I want to set up the design tokens for this project. Please use `get_variable_defs` on this file to extract all color and typography variables. Then, generate a `tailwind.config.js` (or `theme.css`) file that matches these exact values."
 
3.  **Result:** You now have a code file that perfectly matches your Figma styles.

---

## Workflow 2: Building Components (The "Prompting Strategy")

**Goal:** Turn a Figma component into clean, usable code.

**❌ The Bad Prompt:**
> "Make this." (Too vague. The AI might hard-code colors or guess the spacing.)

**✅ The Pro Prompt:**
> "Using the **Primary Button** component from node `12:34`:
> 1.  Analyze the design using `get_design_context`.
> 2.  Implement it as a React component using Tailwind CSS.
> 3.  **Crucial:** Do not hard-code colors. Use the design tokens we established earlier (e.g., `bg-primary-500`).
> 4.  Ensure the hover state matches the 'Hover' variant in the design."

**Pro Tip:** If you have the file open, you can just say "the selected component" instead of finding the node ID.

---

## Workflow 3: QA & Verification

**Goal:** Make sure the code actually looks like the design.

1.  **Build the component.**
2.  **Prompt the AI:**
    > "I've rendered the code you wrote. Now, please use `get_screenshot` on the original Figma node `12:34`. Compare that image with the code you generated. Are the padding and border-radius exactly the same? If not, fix the code."

---

## Best Practices for "Designer-Developers"

1.  **Name Your Layers:** AI reads layer names. `Frame 423` is confusing. `SubmitButton_Container` is clear. Good naming in Figma = Better code.
2.  **Use Auto-Layout:** If your design uses Auto-Layout, the AI can perfectly translate that to Flexbox or Grid code. If you just drag-and-drop (absolute positioning), the code will be brittle and break on mobile.
3.  **One Thing at a Time:** Don't ask for a whole app in one prompt.
    *   Step 1: "Set up the theme/tokens."
    *   Step 2: "Build the Button component."
    *   Step 3: "Build the Navbar using the Button."
    *   Step 4: "Build the Landing Page using the Navbar."

---

## Appendix: Connection Setup

### Google Antigravity (Gemini)
**Method:** Native UI Integration (Recommended)
1.  Click the **`...`** button in the **Agent pane**.
2.  Select **"Figma Dev Mode MCP"**.
3.  Click **"Connect"**.

### Other Platforms (Claude Code, Cursor)
*Refer to the [Official Figma MCP Documentation](https://developers.figma.com/docs/figma-mcp-server/) for command-line setup instructions.*
